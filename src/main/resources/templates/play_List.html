<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="kooky"/>
    <meta name="description" content="inputBoot index"/>
    <title>Title</title>
</head>

<!-- CSS -->
<link rel="stylesheet" href="css/bootstrap-reboot.min.css">
<link rel="stylesheet" href="css/bootstrap-grid.min.css">
<link rel="stylesheet" href="css/owl.carousel.min.css">
<link rel="stylesheet" href="css/magnific-popup.css">
<link rel="stylesheet" href="css/select2.min.css">
<link rel="stylesheet" href="css/paymentfont.min.css">
<link rel="stylesheet" href="css/slider-radio.css">
<link rel="stylesheet" href="css/plyr.css">
<link rel="stylesheet" href="css/main.css">

<!-- Favicons -->
<link rel="icon" type="image/png" href="icon/favicon-32x32.png" sizes="32x32">
<link rel="apple-touch-icon" href="icon/favicon-32x32.png">

<meta name="description" content="">
<meta name="keywords" content="">
<meta name="author" content="Dmitry Volkov">
<title>PlayListPage</title>

</head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<style>
    /*#SearchList {*/
    /*    overflow: auto;*/
    /*}*/

    /*#SearchList::-webkit-scrollbar {*/
    /*    width: 4px;*/
    /*}*/

    /*#SearchList::-webkit-scrollbar-track {*/
    /*    background: #222227;*/
    /*}*/

    /*#SearchList::-webkit-scrollbar-thumb {*/
    /*    background-color: #2d78b6;*/
    /*    outline: 1px solid #222227;*/
    /*    border-radius: 10px;*/
    /*}*/

    #playListArea{
        overflow: auto;
    }
    #playListArea::-webkit-scrollbar{
        width: 4px;
    }
    #playListArea::-webkit-scrollbar-track{
        background: #222227;
    }
    #playListArea::-webkit-scrollbar-thumb{
        background-color: #0099FF;
        outline: 1px solid #222227;
        border-radius: 10px;
    }



    #PlayListCart {
        display: none;
    }


</style>
<body>
<!-- header -->
<header th:replace="header.html :: header"></header>
<!-- end header -->

<!-- sidebar -->

<aside th:replace="sidebar.html :: aside"></aside>

<!-- end sidebar -->

<!-- player -->
<div class="player" th:id="player">
    <div class="player__cover">
        <img src="img/covers/cover.svg" alt="">
    </div>

    <div class="player__content">
        <span class="player__track"><b class="player__title">Epic Cinematic</b> – <span class="player__artist">AudioPizza</span></span>
        <audio src="https://dmitryvolkov.me/demo/blast2.0/audio/12071151_epic-cinematic-trailer_by_audiopizza_preview.mp3"
               id="audio" controls></audio>
    </div>
</div>

<button class="player__btn" type="button">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
        <path d="M21.65,2.24a1,1,0,0,0-.8-.23l-13,2A1,1,0,0,0,7,5V15.35A3.45,3.45,0,0,0,5.5,15,3.5,3.5,0,1,0,9,18.5V10.86L20,9.17v4.18A3.45,3.45,0,0,0,18.5,13,3.5,3.5,0,1,0,22,16.5V3A1,1,0,0,0,21.65,2.24ZM5.5,20A1.5,1.5,0,1,1,7,18.5,1.5,1.5,0,0,1,5.5,20Zm13-2A1.5,1.5,0,1,1,20,16.5,1.5,1.5,0,0,1,18.5,18ZM20,7.14,9,8.83v-3L20,4.17Z"/>
    </svg>
    Player
</button>
<!-- end player -->

<!-- main content -->
<main class="main">
    <div class="container-fluid">
        <div class="row row--grid">
            <!-- breadcrumb -->
            <div class="col-12">
                <ul class="breadcrumb">
                    <li class="breadcrumb__item"><a href="index.html">Home</a></li>
                    <li class="breadcrumb__item"><a href="releases.html">Releases</a></li>
                    <li class="breadcrumb__item breadcrumb__item--active">Release</li>
                </ul>
            </div>
            <!-- end breadcrumb -->

            <!-- title -->
            <div class="col-12">
                <div class="main__title main__title--page">
                    <h1>PlayList Page</h1>
                </div>
            </div>
            <!-- end title -->
            <div class="row row--grid">
                <div class="col-12">
                    <div class="release" style="max-height: 500px;" id="playListArea">
                        <div class="release__list" style="width: 100%; max-height: 500px;" >
                            <div class="scroll-content" >
                                <ul id="SearchList"></ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>
<!-- end main content -->

<!-- modal buy -->
<form action="#" id="modal-buy" class="zoom-anim-dialog mfp-hide modal modal--form">
    <button class="modal__close" type="button">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13.41,12l4.3-4.29a1,1,0,1,0-1.42-1.42L12,10.59,7.71,6.29A1,1,0,0,0,6.29,7.71L10.59,12l-4.3,4.29a1,1,0,0,0,0,1.42,1,1,0,0,0,1.42,0L12,13.41l4.29,4.3a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42Z"/>
        </svg>
    </button>

    <h4 class="sign__title">Buy music album</h4>

    <div class="sign__group sign__group--row">
        <label class="sign__label">Your balance:</label>
        <span class="sign__value">$90.99</span>
    </div>

    <div class="sign__group sign__group--row">
        <label class="sign__label">Price:</label>
        <span class="sign__value">$18.00</span>

        <span class="sign__text sign__text--small">You can spend money from your account on the renewal of the connected packages, or on the purchase of goods on our website.</span>
    </div>

    <button class="sign__btn" type="button">Buy</button>
</form>
<!-- end modal buy -->
<!-- footer -->
<footer th:replace="footer.html :: footer"></footer>
<!-- end footer -->
<!-- modal info -->
<div id="modal-info2" class="zoom-anim-dialog mfp-hide modal modal--info">
		<span class="modal__icon modal__icon--green">
			<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path
                    d="M14.72,8.79l-4.29,4.3L8.78,11.44a1,1,0,1,0-1.41,1.41l2.35,2.36a1,1,0,0,0,.71.29,1,1,0,0,0,.7-.29l5-5a1,1,0,0,0,0-1.42A1,1,0,0,0,14.72,8.79ZM12,2A10,10,0,1,0,22,12,10,10,0,0,0,12,2Zm0,18a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z"></path></svg>
		</span>

    <button class="modal__close" type="button">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13.41,12l4.3-4.29a1,1,0,1,0-1.42-1.42L12,10.59,7.71,6.29A1,1,0,0,0,6.29,7.71L10.59,12l-4.3,4.29a1,1,0,0,0,0,1.42,1,1,0,0,0,1.42,0L12,13.41l4.29,4.3a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42Z"/>
        </svg>
    </button>

    <h4 class="sign__title">Payment #51 was successful!</h4>

    <div class="sign__group sign__group--row">
        <label class="sign__label">Total cost:</label>
        <span class="sign__value">$18.00</span>
    </div>

    <div class="sign__group sign__group--row">
        <label class="sign__label">Payment method: <b>Paypal</b></label>

        <span class="sign__text sign__text--small">There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration in some form, by injected humour, or randomised words which don't look even slightly believable.</span>
    </div>
</div>
<!-- end modal info -->

<!-- modal info -->
<div id="modal-info3" class="zoom-anim-dialog mfp-hide modal modal--info">
		<span class="modal__icon modal__icon--red">
			<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path
                    d="M15.71,8.29a1,1,0,0,0-1.42,0L12,10.59,9.71,8.29A1,1,0,0,0,8.29,9.71L10.59,12l-2.3,2.29a1,1,0,0,0,0,1.42,1,1,0,0,0,1.42,0L12,13.41l2.29,2.3a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42L13.41,12l2.3-2.29A1,1,0,0,0,15.71,8.29Zm3.36-3.36A10,10,0,1,0,4.93,19.07,10,10,0,1,0,19.07,4.93ZM17.66,17.66A8,8,0,1,1,20,12,7.95,7.95,0,0,1,17.66,17.66Z"></path></svg>
		</span>

    <button class="modal__close" type="button">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13.41,12l4.3-4.29a1,1,0,1,0-1.42-1.42L12,10.59,7.71,6.29A1,1,0,0,0,6.29,7.71L10.59,12l-4.3,4.29a1,1,0,0,0,0,1.42,1,1,0,0,0,1.42,0L12,13.41l4.29,4.3a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42Z"/>
        </svg>
    </button>

    <h4 class="sign__title">Payment #50 failed!</h4>

    <div class="sign__group sign__group--row">
        <label class="sign__label">Total cost:</label>
        <span class="sign__value">$18.00</span>
    </div>

    <div class="sign__group sign__group--row">
        <label class="sign__label">Payment method: <b>Paypal</b></label>

        <span class="sign__text sign__text--small">There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration in some form, by injected humour, or randomised words which don't look even slightly believable.</span>
    </div>
</div>
<!-- end modal info -->

<!-- modal info -->
<div id="modal-info4" class="zoom-anim-dialog mfp-hide modal modal--info">
		<span class="modal__icon">
			<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path
                    d="M12,2A10,10,0,1,0,22,12,10.01114,10.01114,0,0,0,12,2Zm0,18a8,8,0,1,1,8-8A8.00917,8.00917,0,0,1,12,20Zm0-8.5a1,1,0,0,0-1,1v3a1,1,0,0,0,2,0v-3A1,1,0,0,0,12,11.5Zm0-4a1.25,1.25,0,1,0,1.25,1.25A1.25,1.25,0,0,0,12,7.5Z"></path></svg>
		</span>

    <button class="modal__close" type="button">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13.41,12l4.3-4.29a1,1,0,1,0-1.42-1.42L12,10.59,7.71,6.29A1,1,0,0,0,6.29,7.71L10.59,12l-4.3,4.29a1,1,0,0,0,0,1.42,1,1,0,0,0,1.42,0L12,13.41l4.29,4.3a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42Z"/>
        </svg>
    </button>

    <h4 class="sign__title">Example of notification.</h4>

    <div class="sign__group sign__group--row">
        <label class="sign__label">Amount to auto-renew:</label>
        <span class="sign__value">$18.00</span>
    </div>

    <div class="sign__group sign__group--row">
        <span class="sign__text sign__text--small">There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration in some form, by injected humour, or randomised words which don't look even slightly believable.</span>
    </div>
</div>
<!-- end modal info -->

<!-- modal info -->
<div id="modal-info5" class="zoom-anim-dialog mfp-hide modal modal--info">
		<span class="modal__icon modal__icon--purple">
			<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path
                    d="M18,7h-.35A3.45,3.45,0,0,0,18,5.5a3.49,3.49,0,0,0-6-2.44A3.49,3.49,0,0,0,6,5.5,3.45,3.45,0,0,0,6.35,7H6a3,3,0,0,0-3,3v2a1,1,0,0,0,1,1H5v6a3,3,0,0,0,3,3h8a3,3,0,0,0,3-3V13h1a1,1,0,0,0,1-1V10A3,3,0,0,0,18,7ZM11,20H8a1,1,0,0,1-1-1V13h4Zm0-9H5V10A1,1,0,0,1,6,9h5Zm0-4H9.5A1.5,1.5,0,1,1,11,5.5Zm2-1.5A1.5,1.5,0,1,1,14.5,7H13ZM17,19a1,1,0,0,1-1,1H13V13h4Zm2-8H13V9h5a1,1,0,0,1,1,1Z"></path></svg>
		</span>

    <button class="modal__close" type="button">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13.41,12l4.3-4.29a1,1,0,1,0-1.42-1.42L12,10.59,7.71,6.29A1,1,0,0,0,6.29,7.71L10.59,12l-4.3,4.29a1,1,0,0,0,0,1.42,1,1,0,0,0,1.42,0L12,13.41l4.29,4.3a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42Z"/>
        </svg>
    </button>

    <h4 class="sign__title">You have received a gift!</h4>

    <div class="sign__group sign__group--row">
        <span class="sign__text sign__text--small">There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration in some form, by injected humour, or randomised words which don't look even slightly believable.</span>

        <span class="sign__text sign__text--small">There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration in some form, by injected humour, or randomised words which don't look even slightly believable.</span>
    </div>
</div>
<!-- end modal info -->


<input th:if="${session.login ne null}" type="hidden" th:value="${session.login.mId}" th:id="mId">
<input th:if="${session.login ne null}" type="hidden" th:value="${session.login.mId}" th:id="mId">
</body>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"
        integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script type="text/javascript" th:inline="javascript">
    var CheckLogin = [[${session.login}]]

    if(CheckLogin != null){
        var sessionId = [[${session.login.mId}]]
    }

    $(document).ready(function () {
        console.log('아이디' + sessionId);
        $.ajax({
            type: "POST",
            url: "playListPrint",
            data: {
                "mId": sessionId
            },
            dataType: "json",
            success: (function (result) {

                playList(result)
            }),
            error: function () {

            }
        });

        //searchBtn
        $("#searchBtn").click(function () {
            var playListSearch = $("#playListSearch").val();
            console.log('gd' + playListSearch);
            var muName = $("#muName").val();
            console.log('gd' + muName);
            $.ajax({
                type: "POST",
                url: "playListSearch",
                data: {
                    "muName": playListSearch
                },
                dataType: "json",
                success: function (result) {

                    playList(result);
                },
                error: function () {
                    console.log("ㅜㅜ")
                }
            });
        })
        $.ajax({
            type : "POST",
            url : "ajaxCartList",
            data : {"caMid" : sessionId},
            dataType : "json",
            success : function(list){
                smallCart(list);
            },
            error : function(){
                console.log("장바구니 개수 출력 실패");
            }
        });

        function smallCart(list){
            var cartCountArea = document.getElementById('cartCountArea');

            if(list.length <= 0){
                cartCountArea.innerHTML = "";
            } else{
                cartCountArea.innerHTML = list.length;
            }

            var output = "";

            if(list.length > 4){
                output += "<a href='/cartList' class='header__all'>Go to cart</a>";
                for(var i=0; i<4; i++){
                    output += "<div class='header__product'>";
                    output += "<img src='muImage/"+list[i].muImage+"' style='width: 50px; height: 50px; border-radius: 70%; overflow: hidden;'>";
                    output += "<p><a href='muView?muCode="+list[i].muCode+"&mId="+list[i].muSinger+"'><span id='"+list[i].muCode+"' class='cartMusicName' value='"+list[i].muSinger+"' name='"+list[i].muName+"'>"+list[i].muName+"</span></a></p>";
                    output += "<span>"+list[i].muSinger+"</span>";
                    output += "<button id='"+list[i].muCode+"' class='cartDelete' type='button'><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path d='M13.41,12l6.3-6.29a1,1,0,1,0-1.42-1.42L12,10.59,5.71,4.29A1,1,0,0,0,4.29,5.71L10.59,12l-6.3,6.29a1,1,0,0,0,0,1.42,1,1,0,0,0,1.42,0L12,13.41l6.29,6.3a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42Z'></path></svg></button></div>";
                }
            }else if(list.length == 0){
                output += "<div class='header__product' style='padding-left:33px; padding-right:33px;'>";
                output += "<span>장바구니가 비어있습니다.</span></div>"
            }else{
                output += "<a href='/cartList' class='header__all'>Go to cart</a>";
                for(var i in list){
                    output += "<div class='header__product'>";
                    output += "<img src='muImage/"+list[i].muImage+"' style='width: 50px; height: 50px; border-radius: 70%; overflow: hidden;'>";
                    output += "<p><a href='muView?muCode="+list[i].muCode+"&mId="+list[i].muSinger+"'><span id='"+list[i].muCode+"' class='cartMusicName' value='"+list[i].muSinger+"' name='"+list[i].muName+"'>"+list[i].muName+"</span></a></p>";
                    output += "<span>"+list[i].muSinger+"</span>";
                    output += "<button id='"+list[i].muCode+"' class='cartDelete' type='button'><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path d='M13.41,12l6.3-6.29a1,1,0,1,0-1.42-1.42L12,10.59,5.71,4.29A1,1,0,0,0,4.29,5.71L10.59,12l-6.3,6.29a1,1,0,0,0,0,1.42,1,1,0,0,0,1.42,0L12,13.41l6.29,6.3a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42Z'></path></svg></button></div>";
                }
            }


            var smallCartListArea = document.getElementById('smallCartListArea');
            smallCartListArea.innerHTML = output;

            $(".cartDelete").click(function(){

                var muCode = $(this).attr('id');
                console.log("muCode : "+muCode);

                $.ajax({
                    type : "POST",
                    url : "cartListDelete",
                    data : {"caMuCode" : muCode,
                        "caMid" : sessionId
                    },
                    dataType : "json",
                    success : function(list){
                        smallCart(list);
                        $("#cartListArea").load(window.location.href + "#cartListArea");
                        $("#myMusicListArea").load(window.location.href + "#myMusicListArea");
                    },
                    error : function(){
                        alert('장바구니 삭제 실패');
                    }
                });
            });
        }
        function playList(result) {
            var output = "";
            // output += "<ul class='main__list main__list--playlist main__list--dashbox' >"
            output += "<ul class='main__list main__list--playlist main__list--dashbox' >"
            for (var i in result) {
                (function (i) {
                    $.ajax({
                        type: "POST",
                        url: "playListDeleteAjax",
                        data: {
                            "muSinger": sessionId
                        },
                        dataType: "json",
                        async: false, //반복문 할 때 사용. ajax를 동기식으로 변환
                        success: function (playListDeleteResult) {
                            console.log(playListDeleteResult);
                            $.ajax({
                                type: "post",
                                url: "CartAddCheck",
                                data: {
                                    "caMuCode": playListDeleteResult[i].plmuCode,
                                    "caMid": sessionId
                                },
                                dataType: "json",
                                async:false,
                                success: function (cartAddCheck) {
                                    output += "<li class='single-item'>";
                                    output += "<a data-playlist data-title='" + result[i].muName + "' data-artist='" + result[i].muSinger + "' data-img='/muImage/" + result[i].muImage + "' href='/audio/" + result[i].mFile + "' class=\"single-item__cover\">";
                                    output += "<img src='/muImage/" + result[i].muImage + "' style='width:50px; height: 50px;'/>";
                                    output += "<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path d='M18.54,9,8.88,3.46a3.42,3.42,0,0,0-5.13,3V17.58A3.42,3.42,0,0,0,7.17,21a3.43,3.43,0,0,0,1.71-.46L18.54,15a3.42,3.42,0,0,0,0-5.92Zm-1,4.19L7.88,18.81a1.44,1.44,0,0,1-1.42,0,1.42,1.42,0,0,1-.71-1.23V6.42a1.42,1.42,0,0,1,.71-1.23A1.51,1.51,0,0,1,7.17,5a1.54,1.54,0,0,1,.71.19l9.66,5.58a1.42,1.42,0,0,1,0,2.46Z'/></svg>";
                                    output += "<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path d='M16,2a3,3,0,0,0-3,3V19a3,3,0,0,0,6,0V5A3,3,0,0,0,16,2Zm1,17a1,1,0,0,1-2,0V5a1,1,0,0,1,2,0ZM8,2A3,3,0,0,0,5,5V19a3,3,0,0,0,6,0V5A3,3,0,0,0,8,2ZM9,19a1,1,0,0,1-2,0V5A1,1,0,0,1,9,5Z'/></svg>";
                                    output += "</a>";
                                    output += "<div class='single-item__title' >";
                                    output += "<h4>" + result[i].muSinger + "</h4>";
                                    output += "<span>" + result[i].muName + "</span>";
                                    //output += "<a href='PlayListDelete?mId=" + sessionId + "&plmuCode=" + playListDeleteResult[i].plmuCode + "'>삭제</a>"
                                    output += "</div>";
                                    output += "<a href='#' class='single-item__add' style='position: absolute; right: 60px'>";
                                    output += "<button class ='PlayListDelete'  type = 'button' value='" + playListDeleteResult[i].plmuCode + "' id='playListDelete'><svg xmlns = 'http://www.w3.org/2000/svg' viewBox = '0 0 24 24'><path d ='M13.41,12l6.3-6.29a1,1,0,1,0-1.42-1.42L12,10.59,5.71,4.29A1,1,0,0,0,4.29,5.71L10.59,12l-6.3,6.29a1,1,0,0,0,0,1.42,1,1,0,0,0,1.42,0L12,13.41l6.29,6.3a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42Z'></path></svg></button>";
                                    output += "</a>";
                                    if (cartAddCheck == "") {
                                        output += "<a href='#' class='single-item__add' style='position: absolute; right: 20px;'>";
                                        output += "<label><img id='" + playListDeleteResult[i].plmuCode + "' src='/img/cartCheck.png' style='width:30px; height: 30px; position: absolute; bottom : 2px; right: 3px ' class ='PlayListCart' name='" + playListDeleteResult[i].plmuCode + "' value ='Check1'></img></label>";
                                        output += "</a>";
                                    } else if (cartAddCheck != "") {
                                        output += "<a href='#' class='single-item__add' style='position: absolute; right: 20px; '>";
                                        output += "<label><img id='" + playListDeleteResult[i].plmuCode + "' src='/img/cartDelete.png' style='width:30px; height: 30px;  position: absolute; bottom : 2px; right: 3px ' class ='PlayListCart' name='" + playListDeleteResult[i].plmuCode + "' value ='Check2'></img></label>";
                                        output += "</a>";
                                    }
                                    output += "</li>";

                                    var SearchList = document.getElementById("SearchList");
                                    SearchList.innerHTML = output;

                                },
                                error: function () {

                                }
                            });
                            // output += "<div class='dashbox__list-wrap'>"
                            //output += "<div id='div' class='dashbox__scroll'>"

                        },
                        error: function () {
                            console.log("ㅜㅜ")
                        }
                    });

                })(i);

            }

            // var SearchList = document.getElementById("SearchList");
            // SearchList.innerHTML = output;

            output += "</ul>"

        }

        //리스트 삭제 ajax
        $(document).on('click', '#playListDelete', function (plmuCode) {
            var check = confirm('리스트 항목을 삭제하시겠습니까?');

            var plmuCode = document.getElementById("playListDelete");
            var plmuCodeVal = $(this).attr('value');


            console.log(plmuCode);
            console.log(plmuCodeVal);
            console.log('sessionId : ' + sessionId);

            if (check == true) {
                $.ajax({
                    type: "post",
                    url: "PlayListDelete",
                    data: {
                        "plmuCode": plmuCodeVal,
                        "mId": sessionId
                    },
                    dataType: "json",

                    success: function (DeleteResult) {
                        location.reload();
                    },
                    error: function () {
                        alert('삭제 실패');
                    }
                });
            } else {
                null;
            }
        });

        $(document).on('click', '.PlayListCart', function () {
            var plmuCode = $(this).attr('name');

            var cartCheck = $(this).attr('value');
            var imgId = $(this).attr('id');
            console.log("class:" + cartCheck);
            console.log('plmucode' + plmuCode);
            console.log('아이디 : ' + sessionId);
            console.log('이미지 아이디 : ' + imgId);
            if (cartCheck == "Check1") {
                $.ajax({
                    type: "post",
                    url: "CartAddPlayList",
                    data: {
                        "caMuCode": plmuCode,
                        "caMid": sessionId
                    },
                    dataType: "json",
                    success: function (Result) {
                        console.log("insert 성공")
                        $.ajax({
                            type : "POST",
                            url : "ajaxCartList",
                            data : {"caMid" : sessionId},
                            dataType : "json",
                            success : function(list){
                                smallCart(list);
                            },
                            error : function(){
                                console.log("장바구니 개수 출력 실패");
                            }
                        });
                    },
                    error: function () {
                        console.log("인설트 오류가 숨어있다!!")
                    }
                });
                cartCheck = $(this).attr('value', 'Check2');
                $(this).attr('src', '/img/cartDelete.png');
            } else if (cartCheck == "Check2") {
                $.ajax({
                    type: "post",
                    url: "CartAddPlayListDelete",
                    data: {
                        "caMuCode": plmuCode,
                        "caMid": sessionId
                    },
                    dataType: "json",
                    success: function (result) {
                        $.ajax({
                            type : "POST",
                            url : "ajaxCartList",
                            data : {"caMid" : sessionId},
                            dataType : "json",
                            success : function(list){
                                smallCart(list);
                            },
                            error : function(){
                                console.log("장바구니 개수 출력 실패");
                            }
                        });
                        console.log("삭제 성공")
                    },
                    error: function () {
                        console.log("삭제 오류가 숨어있다!!")
                    }
                });
                cartCheck = $(this).attr('value', 'Check1');
                $(this).attr('src', '/img/cartCheck.png');
            }

        });
    });





</script>
<!-- JS -->
<script src="js/jquery-3.5.1.min.js"></script>
<script src="js/bootstrap.bundle.min.js"></script>
<script src="js/owl.carousel.min.js"></script>
<script src="js/jquery.magnific-popup.min.js"></script>
<script src="js/smooth-scrollbar.js"></script>
<script src="js/select2.min.js"></script>
<script src="js/slider-radio.js"></script>
<script src="js/jquery.inputmask.min.js"></script>
<script src="js/plyr.min.js"></script>
<script src="js/main.js"></script>
</html>