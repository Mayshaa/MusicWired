<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<head>
<meta charset="UTF-8">
<title>Insert title here</title>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

<head>	
<style type="text/css">
table {
    font-family: arial, sans-serif;
    border-collapse: collapse;
    width: 100%;
}

td, th {
    border: 1px solid #dddddd;
    text-align: left;
    padding: 8px;
}

tr:nth-child(even) {
    background-color: #dddddd;
}

</style>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

<script type="text/javascript">

var cnt=1;

/* for(i=0; i<10; i++){
	cnt;
	cnt++;
} */

function on1(){
	console.log('시발!');
	
 	$.ajax({
			type : "POST",
			url : "hitChart",
			dataType:'json',
			success : function(list){
				
				hitChart(list);
				alert("성공");
				console.log("성공");
			},
			error : function(){
				alert("시르패르");
			}
		});
}


	function hitChart(list){
		
		var output="";
		
		output +="<table>";
		output +="<tr>";
		output +="<th>순위</th>";
		output +="<th>가수이름</th>";
		output +="<th>음악이름</th>";
		output +="<th>음악장르</th>";
		output +="<th>게시일</th>";
		output +="<th>조회수</th>";
		output +="<th>좋아요수</th>";
		output +="<th>가격</th>";
		output +="</tr>	";
		
		var arr = [1,2,3,4,5,6,7,8,9,10];
	
	
			output +="<tr> ";
			for(var i in list){
			for(var i in arr ){
			output +="<td>"+arr[i]+"</td>";
			output +="<td>"+list[i].muSinger+"</td>";
			output +="<td><a href='muView?muCode="+list[i].muCode+"'>"+list[i].muName+"</td>";
			output +="<td>"+list[i].muGanre+"</td>";
			output +="<td>"+list[i].muDate+"</td>";
			output +="<td>"+list[i].muHit+"</td>";
			output +="<td>"+list[i].muLike+"</td>";
			output +="<td>"+list[i].muPrice+"</td>";
			output +="</tr> ";
	
		
			
		
			var hitArea=document.getElementById('hitArea');
			
			hitArea.innerHTML=output;
			}
	break;
			}
			}
			output +="</table>";
			


			function on2(){
				console.log('시발가즈아');
				
			 	$.ajax({
						type : "POST",
						url : "likeChart",
						dataType:'json',
						success : function(list){
							
							likeChart(list);
							alert("성공ㄱ");
							console.log("성공ㄱ");
						},
						error : function(){
							alert("시ㄹㅍ ㅐ");
						}
					});
			}
			function likeChart(list){
				
				var output="";
				
				output +="<table>";
				output +="<tr>";
				output +="<th>순위</th>";
				output +="<th>가수이름</th>";
				output +="<th>음악이름</th>";
				output +="<th>음악장르</th>";
				output +="<th>게시일</th>";
				output +="<th>조회수</th>";
				output +="<th>좋아요수</th>";
				output +="<th>가격</th>";
				output +="</tr>	";
				
				var arr = [1,2,3,4,5,6,7,8,9,10];
			
			
					output +="<tr> ";
					for(var i in list){
					for(var i in arr ){
					output +="<td>"+arr[i]+"</td>";
					output +="<td>"+list[i].muSinger+"</td>";
					output +="<td><a href='muView?muCode="+list[i].muCode+"'>"+list[i].muName+"</td>";
					output +="<td>"+list[i].muGanre+"</td>";
					output +="<td>"+list[i].muDate+"</td>";
					output +="<td>"+list[i].muHit+"</td>";
					output +="<td>"+list[i].muLike+"</td>";
					output +="<td>"+list[i].muPrice+"</td>";
					output +="</tr> ";
			
				
					
				
					var hitArea=document.getElementById('hitArea');
					
					hitArea.innerHTML=output;
					}
			break;
					}
					}
					output +="</table>";

</script>
<body>
		<h1>Chart</h1>
		<h2> 조회수 순위 top 10</h2>
		<button id="hit" onclick="on1()">조회수차트</button> 
		<button id="like" onclick="on2()">좋아요차트</button><br/><br/>
		<form><input type="button" value="페이지 새로 고침" onClick="window.location.reload()"></form>
		
		<div id="hitArea">
	
	
		</div>
		
	
<!-- <table> -->
    <!-- <tr>
    	<th>순위</th>
       <th>가수 이름</th>
        <th>음악 이름</th>
        <th>음악 장르</th>
        <th>게시일</th>
        <th>조회 수</th>
        <th>좋아요 수</th>
        <th>가격</th>
    </tr>				숫자셀때
    <tr th:each="chart ,iterState : ${chart}">
        <td><span th:text="${iterState.count}"></span></td>숫자셀때
        <td th:text="${chart.muSinger}"></td>
        <td><a th:href="@{muView(muCode=${chart.muCode})}" th:text="${chart.muName}" id="audio"></a></td>
        <td th:text="${chart.muGanre}"></td>
        <td th:text="${chart.muDate}"></td>
        <td th:text="${chart.muHit}"></td>
        <td th:text="${chart.muLike}"></td>
        <td th:text="${chart.muPrice}"></td>
      
        
    </tr>
    
</table> -->
	
		



</body>
</html>